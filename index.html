<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fluffy Favourites Slot (Standalone)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui,sans-serif; background:#111; color:#eee; margin:0; display:flex; flex-direction:column; align-items:center; }
    header { padding:1rem 0; }
    #slot { display:grid; grid-template-columns:repeat(5,100px); grid-template-rows:repeat(3,100px); gap:6px; margin:1rem 0; }
  .cell { width:100px; height:100px; background:#fff; border:2px solid #333; border-radius:8px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden; box-shadow:inset 0 0 6px rgba(0,0,0,.25); transition:box-shadow .3s, border-color .3s; }
  .cell.anticipate { border-color:#ff9800; box-shadow:0 0 12px 4px rgba(255,152,0,.65), inset 0 0 6px rgba(0,0,0,.25); animation:pulseGlow 1s ease-in-out infinite; }
  @keyframes pulseGlow { 0%,100% { filter:brightness(1); } 50% { filter:brightness(1.3); } }
    .cell.win { border-color:#4caf50; box-shadow:0 0 8px #4caf50; }
    @keyframes flicker { 0%,100% { filter:brightness(1);} 50% { filter:brightness(1.6);} }
    .cell.spinning { animation:flicker .5s linear infinite; }
    .symbol-img { width:100%; height:100%; object-fit:contain; }
    #controls { display:flex; gap:1rem; align-items:center; }
    button { background:#ff4fa3; color:#fff; border:none; padding:.75rem 1.25rem; border-radius:6px; font-size:1rem; cursor:pointer; font-weight:600; }
    button:disabled { opacity:.4; cursor:default; }
    #log { max-width:600px; font-size:.85rem; line-height:1.4; background:#181818; padding:1rem; border-radius:8px; height:140px; overflow:auto; }
    .stat-bar { display:flex; gap:2rem; flex-wrap:wrap; font-size:.9rem; }
    .fs-banner { background:#673ab7; padding:.4rem .8rem; border-radius:4px; margin-left:1rem; display:none; }
    .fs-banner.active { display:inline-block; }
  </style>
</head>
<body>
  <header>
    <h1>Fluffy Favourites Slot <span id="fsState" class="fs-banner">Free Spins: <span id="fsRemain"></span></span></h1>
  </header>
  <div style="position:relative;">
    <div id="slot"></div>
    <svg id="lineOverlay" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:visible;"></svg>
  </div>
  <div id="controls">
    <label>Bet/Line <input id="bet" type="number" value="1" min="0.1" step="0.1" style="width:70px"></label>
    <button id="spinBtn">Spin</button>
    <button id="autoBtn">Auto (50)</button>
    <div>Total Win: <strong id="lastWin">0</strong></div>
  </div>
  <div class="stat-bar">
    <div>Balance: <span id="balance">10000</span></div>
    <div>RTP (session): <span id="rtp">--</span></div>
    <div>Spins: <span id="spins">0</span></div>
  </div>
  <h3>Log</h3>
  <div id="log"></div>
  <script type="module" src="/src/web/main.ts"></script>
  <!-- If you build and want to use compiled JS instead, replace the script above with: -->
  <!-- <script type="module" src="./dist/web/main.js"></script> -->
</body>
</html>
